<!DOCTYPE html>

<html lang="ja">

<head>
	<title>【書評】『ARプログラミング Processingでつくる拡張現実感のレシピ』を読んで &#8211; Kai&#039;s Develope Diary</title>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<meta name="template" content="Author 1.39" />
<meta name="generator" content="WordPress 5.1.6" />
<link rel='dns-prefetch' href='//fonts.googleapis.com/' />
<link rel="alternate" type="application/rss+xml" title="Kai&#039;s Develope Diary &raquo; フィード" href="feed/index.html" />
<link rel="alternate" type="application/rss+xml" title="Kai&#039;s Develope Diary &raquo; コメントフィード" href="comments/feed/index.html" />
<link rel="alternate" type="application/rss+xml" title="Kai&#039;s Develope Diary &raquo; 【書評】『ARプログラミング Processingでつくる拡張現実感のレシピ』を読んで のコメントのフィード" href="2016/04/28/arprograming-processing/feed/index.html" />
		<script type="text/javascript">
			window._wpemojiSettings = {"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/11.2.0\/72x72\/","ext":".png","svgUrl":"https:\/\/s.w.org\/images\/core\/emoji\/11.2.0\/svg\/","svgExt":".svg","source":{"concatemoji":"http:\/\/blog.shirai.la\/kai\/wp-includes\/js\/wp-emoji-release.min.js?ver=5.1.6"}};
			!function(a,b,c){function d(a,b){var c=String.fromCharCode;l.clearRect(0,0,k.width,k.height),l.fillText(c.apply(this,a),0,0);var d=k.toDataURL();l.clearRect(0,0,k.width,k.height),l.fillText(c.apply(this,b),0,0);var e=k.toDataURL();return d===e}function e(a){var b;if(!l||!l.fillText)return!1;switch(l.textBaseline="top",l.font="600 32px Arial",a){case"flag":return!(b=d([55356,56826,55356,56819],[55356,56826,8203,55356,56819]))&&(b=d([55356,57332,56128,56423,56128,56418,56128,56421,56128,56430,56128,56423,56128,56447],[55356,57332,8203,56128,56423,8203,56128,56418,8203,56128,56421,8203,56128,56430,8203,56128,56423,8203,56128,56447]),!b);case"emoji":return b=d([55358,56760,9792,65039],[55358,56760,8203,9792,65039]),!b}return!1}function f(a){var c=b.createElement("script");c.src=a,c.defer=c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var g,h,i,j,k=b.createElement("canvas"),l=k.getContext&&k.getContext("2d");for(j=Array("flag","emoji"),c.supports={everything:!0,everythingExceptFlag:!0},i=0;i<j.length;i++)c.supports[j[i]]=e(j[i]),c.supports.everything=c.supports.everything&&c.supports[j[i]],"flag"!==j[i]&&(c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&c.supports[j[i]]);c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&!c.supports.flag,c.DOMReady=!1,c.readyCallback=function(){c.DOMReady=!0},c.supports.everything||(h=function(){c.readyCallback()},b.addEventListener?(b.addEventListener("DOMContentLoaded",h,!1),a.addEventListener("load",h,!1)):(a.attachEvent("onload",h),b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&c.readyCallback()})),g=c.source||{},g.concatemoji?f(g.concatemoji):g.wpemoji&&g.twemoji&&(f(g.twemoji),f(g.wpemoji)))}(window,document,window._wpemojiSettings);
		</script>
		<style type="text/css">
img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 .07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}
</style>
	<link rel='stylesheet' id='jquery.bxslider-css'  href='wp-content/plugins/bxslider-integration/assets/css/bxslider-integration.min.css@ver=5.1.6.css' type='text/css' media='all' />
<link rel='stylesheet' id='wp-block-library-css'  href='wp-includes/css/dist/block-library/style.min.css@ver=5.1.6.css' type='text/css' media='all' />
<link rel='stylesheet' id='bp-member-block-css'  href='wp-content/plugins/buddypress/bp-members/css/blocks/member.min.css@ver=6.0.0.css' type='text/css' media='all' />
<link rel='stylesheet' id='bp-group-block-css'  href='wp-content/plugins/buddypress/bp-groups/css/blocks/group.min.css@ver=6.0.0.css' type='text/css' media='all' />
<link rel='stylesheet' id='bp-legacy-css-css'  href='wp-content/plugins/buddypress/bp-templates/bp-legacy/css/buddypress.min.css@ver=6.0.0.css' type='text/css' media='screen' />
<link rel='stylesheet' id='contact-form-7-css'  href='wp-content/plugins/contact-form-7/includes/css/styles.css@ver=5.1.9.css' type='text/css' media='all' />
<link rel='stylesheet' id='dlm-frontend-css'  href='wp-content/plugins/download-monitor/assets/css/frontend.css@ver=5.1.6.css' type='text/css' media='all' />
<link rel='stylesheet' id='ct-author-google-fonts-css'  href='https://fonts.googleapis.com/css?family=Rokkitt%3A400%2C700%7CLato%3A400%2C700&amp;subset=latin%2Clatin-ext&amp;ver=5.1.6' type='text/css' media='all' />
<link rel='stylesheet' id='ct-author-font-awesome-css'  href='wp-content/themes/author/assets/font-awesome/css/all.min.css@ver=5.1.6.css' type='text/css' media='all' />
<link rel='stylesheet' id='ct-author-style-css'  href='wp-content/themes/author/style.css@ver=5.1.6.css' type='text/css' media='all' />
<link rel='stylesheet' id='amazonjs-css'  href='wp-content/plugins/amazonjs/css/amazonjs.css@ver=0.10.css' type='text/css' media='all' />
<script type='text/javascript' src='wp-includes/js/jquery/jquery.js@ver=1.12.4'></script>
<script type='text/javascript' src='wp-includes/js/jquery/jquery-migrate.min.js@ver=1.4.1'></script>
<script type='text/javascript' src='wp-content/plugins/bxslider-integration/assets/js/bxslider-integration.min.js@ver=5.1.6'></script>
<script type='text/javascript' src='wp-content/plugins/buddypress/bp-core/js/confirm.min.js@ver=6.0.0'></script>
<script type='text/javascript' src='wp-content/plugins/buddypress/bp-core/js/widget-members.min.js@ver=6.0.0'></script>
<script type='text/javascript' src='wp-content/plugins/buddypress/bp-core/js/jquery-query.min.js@ver=6.0.0'></script>
<script type='text/javascript' src='wp-content/plugins/buddypress/bp-core/js/vendor/jquery-cookie.min.js@ver=6.0.0'></script>
<script type='text/javascript' src='wp-content/plugins/buddypress/bp-core/js/vendor/jquery-scroll-to.min.js@ver=6.0.0'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var BP_DTheme = {"accepted":"\u627f\u8a8d\u6e08","close":"\u9589\u3058\u308b","comments":"\u30b3\u30e1\u30f3\u30c8","leave_group_confirm":"\u672c\u5f53\u306b\u3053\u306e\u30b0\u30eb\u30fc\u30d7\u304b\u3089\u96e2\u8131\u3057\u307e\u3059\u304b ?","mark_as_fav":"\u304a\u6c17\u306b\u5165\u308a","my_favs":"\u308f\u305f\u3057\u306e\u304a\u6c17\u306b\u5165\u308a","rejected":"\u62d2\u5426\u6e08\u307f","remove_fav":"\u304a\u6c17\u306b\u5165\u308a\u304b\u3089\u524a\u9664","show_all":"\u3059\u3079\u3066\u8868\u793a","show_all_comments":"\u3053\u306e\u30b9\u30ec\u30c3\u30c9\u306e\u3059\u3079\u3066\u306e\u30b3\u30e1\u30f3\u30c8\u3092\u898b\u308b","show_x_comments":"\u3059\u3079\u3066\u306e\u30b3\u30e1\u30f3\u30c8\u3092\u8868\u793a  (%d)","unsaved_changes":"\u30d7\u30ed\u30d5\u30a3\u30fc\u30eb\u306b\u4fdd\u5b58\u3055\u308c\u3066\u3044\u306a\u5909\u66f4\u304c\u3042\u308a\u307e\u3059\u3002\u3053\u306e\u30da\u30fc\u30b8\u304b\u3089\u79fb\u52d5\u3059\u308b\u3068\u3001\u5909\u66f4\u304c\u3059\u3079\u3066\u5931\u308f\u308c\u307e\u3059\u3002","view":"\u8868\u793a","store_filter_settings":""};
/* ]]> */
</script>
<script type='text/javascript' src='wp-content/plugins/buddypress/bp-templates/bp-legacy/js/buddypress.min.js@ver=6.0.0'></script>
<!--[if IE 8]>
<script type='text/javascript' src='https://blog.shirai.la/kai/wp-content/themes/author/js/build/html5shiv.min.js?ver=5.1.6'></script>
<![endif]-->
<link rel='https://api.w.org/' href='https://blog.shirai.la/kai/wp-json/' />
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="xmlrpc.php@rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="wp-includes/wlwmanifest.xml" /> 
<link rel='prev' title='【C++】簡易的なタイピングソフトをつくろう！' href='index.html@p=54.html' />
<link rel="canonical" href="index.html@p=66.html" />
<link rel='shortlink' href='index.html@p=66.html' />
<link rel="alternate" type="application/json+oembed" href="https://blog.shirai.la/kai/wp-json/oembed/1.0/embed?url=http%3A%2F%2Fblog.shirai.la%2Fkai%2F2016%2F04%2F28%2Farprograming-processing%2F" />
<link rel="alternate" type="text/xml+oembed" href="https://blog.shirai.la/kai/wp-json/oembed/1.0/embed?url=http%3A%2F%2Fblog.shirai.la%2Fkai%2F2016%2F04%2F28%2Farprograming-processing%2F&#038;format=xml" />

	<script type="text/javascript">var ajaxurl = 'https://blog.shirai.la/kai/wp-admin/admin-ajax.php';</script>

		<style type="text/css">.recentcomments a{display:inline !important;padding:0 !important;margin:0 !important;}</style>
		<script type="text/javascript" src="wp-content/plugins/si-captcha-for-wordpress/captcha/si_captcha.js@ver=1592148562"></script>
<!-- begin SI CAPTCHA Anti-Spam - login/register form style -->
<style type="text/css">
.si_captcha_small { width:175px; height:45px; padding-top:10px; padding-bottom:10px; }
.si_captcha_large { width:250px; height:60px; padding-top:10px; padding-bottom:10px; }
img#si_image_com { border-style:none; margin:0; padding-right:5px; float:left; }
img#si_image_reg { border-style:none; margin:0; padding-right:5px; float:left; }
img#si_image_log { border-style:none; margin:0; padding-right:5px; float:left; }
img#si_image_side_login { border-style:none; margin:0; padding-right:5px; float:left; }
img#si_image_checkout { border-style:none; margin:0; padding-right:5px; float:left; }
img#si_image_jetpack { border-style:none; margin:0; padding-right:5px; float:left; }
img#si_image_bbpress_topic { border-style:none; margin:0; padding-right:5px; float:left; }
.si_captcha_refresh { border-style:none; margin:0; vertical-align:bottom; }
div#si_captcha_input { display:block; padding-top:15px; padding-bottom:5px; }
label#si_captcha_code_label { margin:0; }
input#si_captcha_code_input { width:65px; }
p#si_captcha_code_p { clear: left; padding-top:10px; }
.si-captcha-jetpack-error { color:#DC3232; }
</style>
<!-- end SI CAPTCHA Anti-Spam - login/register form style -->
</head>

<body id="author" class="bp-legacy post-template-default single single-post postid-66 single-format-standard singular singular-post singular-post-66 no-js">
		<a class="skip-content" href="index.html@p=66.html#main">Skip to content</a>
		<div id="overflow-container" class="overflow-container">
			<div class="max-width">
				<div id="main-sidebar" class="main-sidebar">
										<header class="site-header" id="site-header" role="banner">
						<div id="title-container" class="title-container">
														<div class="container">
								<div id='site-title' class='site-title'><a href='../kai.1.html'>Kai&#039;s Develope Diary</a></div>								<p class="tagline">Just another KAIT Shirai Lab Blog Sites site</p>							</div>
						</div>
						<button id="toggle-navigation" class="toggle-navigation" aria-expanded="false">
							<span class="screen-reader-text">open primary menu</span>
							<i class="fas fa-bars"></i>
						</button>
												<div id="menu-primary" class="menu-container menu-primary" role="navigation">
	<div class="menu-unset"><ul><li class="page_item page-item-101"><a href="https://blog.shirai.la/kai/%e3%82%a2%e3%82%af%e3%82%bb%e3%82%b9%e3%81%aa%e3%81%97/">アクセスなし</a></li><li class="page_item page-item-2"><a href="index.html@p=2.html">サンプルページ</a></li></ul></div></div>					</header>
											<aside class="sidebar sidebar-primary" id="sidebar-primary" role="complementary">
		<h1 class="screen-reader-text">Sidebar</h1>
		<section id="search-2" class="widget widget_search"><div class='search-form-container'>
	<form role="search" method="get" class="search-form" action="../kai.1.html">
		<label class="screen-reader-text" for="search-field">Search</label>
		<input id="search-field" type="search" class="search-field" value="" name="s"
		       title="Search for:"/>
		<input type="submit" class="search-submit" value='Go'/>
	</form>
</div></section>		<section id="recent-posts-2" class="widget widget_recent_entries">		<h2 class="widget-title">最近の投稿</h2>		<ul>
											<li>
					<a href="index.html@p=66.html">【書評】『ARプログラミング Processingでつくる拡張現実感のレシピ』を読んで</a>
									</li>
											<li>
					<a href="index.html@p=54.html">【C++】簡易的なタイピングソフトをつくろう！</a>
									</li>
											<li>
					<a href="https://blog.shirai.la/kai/2016/01/10/%e4%bb%8a%e6%80%9d%e3%81%a3%e3%81%9f%e4%ba%8b/">今思った事</a>
									</li>
											<li>
					<a href="https://blog.shirai.la/kai/2015/12/04/%e6%96%87%e5%ad%97%e3%81%ae%e6%af%94%e8%bc%83%e3%80%81strcmp%e3%81%ab%e3%81%a4%e3%81%84%e3%81%a6/">文字の比較、strcmp()について</a>
									</li>
											<li>
					<a href="https://blog.shirai.la/kai/2015/12/02/processing1-5-1%e3%81%a7%e5%a4%96%e4%bb%98%e3%81%91%e3%82%ab%e3%83%a1%e3%83%a9%e3%82%92%e4%bd%bf%e3%81%86%e3%81%ab%e3%81%af%ef%bc%88%e5%86%85%e8%87%93%e3%82%ab%e3%83%a1%e3%83%a9%e4%bb%98%e3%81%8dpc/">Processing1.5.1で外付けカメラを使うには（内臓カメラ付きPC）</a>
									</li>
					</ul>
		</section><section id="recent-comments-2" class="widget widget_recent_comments"><h2 class="widget-title">最近のコメント</h2><ul id="recentcomments"></ul></section><section id="archives-2" class="widget widget_archive"><h2 class="widget-title">アーカイブ</h2>		<ul>
				<li><a href='2016/04/index.html'>2016年4月</a></li>
	<li><a href='2016/01/index.html'>2016年1月</a></li>
	<li><a href='2015/12/index.html'>2015年12月</a></li>
	<li><a href='2015/10/index.html'>2015年10月</a></li>
		</ul>
			</section><section id="categories-2" class="widget widget_categories"><h2 class="widget-title">カテゴリー</h2>		<ul>
				<li class="cat-item cat-item-1"><a href="https://blog.shirai.la/kai/category/%e6%9c%aa%e5%88%86%e9%a1%9e/" >未分類</a>
</li>
		</ul>
			</section><section id="meta-2" class="widget widget_meta"><h2 class="widget-title">メタ情報</h2>			<ul>
						<li><a href="wp-login.php.html">ログイン</a></li>
			<li><a href="feed/index.html">投稿の <abbr title="Really Simple Syndication">RSS</abbr></a></li>
			<li><a href="comments/feed/index.html">コメントの <abbr title="Really Simple Syndication">RSS</abbr></a></li>
			<li><a href="https://ja.wordpress.org/" title="Powered by WordPress, state-of-the-art semantic personal publishing platform.">WordPress.org</a></li>			</ul>
			</section>	</aside>
									</div>
								<section id="main" class="main" role="main">
						<div id="loop-container" class="loop-container">
		<div class="post-66 post type-post status-publish format-standard hentry category-1 entry">
			<article>
		<div class='post-header'>
			<h1 class='post-title'>【書評】『ARプログラミング Processingでつくる拡張現実感のレシピ』を読んで</h1>
			<span class="post-meta">
		Published by <a href='author/kai/index.html'>kai</a> on <a href='2016/04/index.html'>2016年4月28日</a></span>		</div>
		<div class="post-content">
						<p>　今日はタイトル通り、『ARプログラミング Processingでつくる拡張現実感のレシピ』の感想を書きたいと思います。<br />
　この本は4つのPartで構成されていて、AR（拡張現実）をProcessingを用いて誰でもわかりやすく体験できる内容となっています。<br />
　筆者は全てやったわけではないのでやった範囲で紹介します。<br />
　では、詳しく見ていきましょう。</p>
<h1>1．イントロダクション編</h1>
<p>　このPartは主に「ARとは」・「ARの歴史」・「ARの事例」などが記載されています。ARの研究は1960年代とかなり前からされており昔からこのような発想があった事にすこし驚きました。<br />　また昔のARはエンターテインメントというよりは仕事の効率化という側面で多く研究されていたこともわかりました。「ARの事例」にはここ最近のARを使った作品が紹介されており、画像とその作品の詳細ページのURLも記載されていたのでとてもわかりいやすかったです。</p>
<h1>2．準備編</h1>
<p>　目次通り、このPartでは学習するための道具の準備について説明されています。必要機材・ソフトウェアのセットアップについて書かれています。<br />
　丁寧に書かれていたので、筆者は何のトラブルもなくセットアップができました。</p>
<h1>3．ライブラリ編</h1>
<p>　Processingには様々なライブラリが標準で備えられていますが、このPartではARアプリケーションを作るのに便利な別のライブラリが紹介されています。<br />
　また、それぞれのライブラリの紹介が8つのChapterで構成されています。</p>
<h2>Chapter 1 本書の構成と読み方</h2>
<p>　主に、この本の進め方について記載されています。</p>
<h2>Chapter 2 外部ライブラリの導入の仕方</h2>
<p>　先ほど言った通りこのPartでは外部ライブラリを使うので、その導入法が記載されています。ダウンロードしたライブラリのフォルダをどの階層に入れるか図で示されているのでわかりやすいです。</p>
<h2>Chapter 3 マーカベースのARを作る</h2>
<p>　ここから本格的にARのプログラムを実行していきます。このChapterではマーカ上にARを表示する最も基本的なことをします。<br />
下の画像が実際に実行したときの様子です。<br />
<a href="files/2016/04/ARBox.png"><img class="alignnone size-full wp-image-72" src="files/2016/04/ARBox.png" alt="ARBox" width="640" height="360" /></a><br />
　ARプログラミングライブラリとしてARToolKitがありますが、それをProcessing用に対応させた「NyAR4pg」というライブラリを使います。<br />
　ソースは全て本に書かれておりますが、ここで一つ注意が必要です。<br />
　この本の当時のProcessingのバージョンがver1.5.1であったため、ver2.0,3.0<br />
では動きません。もしver1.5.1以外のProcessingをインストールされた方はもう一度ver1.5.1を入れてみてください。<br />
　ver2.0以降で実行できないのはたぶんCamera関係のエラーだと思います。ver2.0からは「cam.start()」（camはChapture型）をvoid setup()内で入れないとキャプチャが始まらない仕様になっています。しかし、これを入れても筆者は実行できませんでした。<br />
　「java.lang.NoClassDefFoundError:processing/core/PGraphics3D」というエラーが出てしまい、調べてみましたがよくわからなかったのでver1.5.1で実行することにしました。<br />
　プログラムを実行するためには「パターンファイル」が必要になってきます。こういうやつです↓<br />
<a href="files/2016/04/nyid-m2_id001.png"><img class="alignnone size-full wp-image-80" src="files/2016/04/nyid-m2_id001.png" alt="nyid-m2_id001" width="300" height="300" srcset="files/2016/04/nyid-m2_id001.png 300w, files/2016/04/nyid-m2_id001-150x150.png 150w" sizes="(max-width: 300px) 100vw, 300px" /></a><br />
　自分でパターンファイルをつくる事ができますが、筆者はNyIdマーカを使いました。<br />
　NyIdマーカは「NyID Marker Maker」に配布されています。ソースを書くときもIDの番号を指定するだけなので簡単です。<br />
　あと、boxを描画するときに注意点が２つあります。<br />
　1つ目は、描画するときに透過率を設定しなければなりません。<br />
　これも考えれば単純な事ですが、透過率を設定しなかった場合boxを描画したときにマーカが隠れてしまうからです。<br />
　2つ目は、translateでboxの位置をずらしてあげる事です。そのままの位置に描画してしまうとマーカの中心にboxの中心がきてしまうのでboxの辺の半分の長さ上にtranslateすればちょうどマーカの上に描画されるようになります。</p>
<h2>Chapter 4 メタセコイアで作成した3Dモデルを表示する。</h2>
<p>　メタセコイアは3Dポリゴンモデルを作るためのソフトウェアです。このChapterではメタセコイアのモデルをProcessingで表示した後にARマーカ上に表示する方法が記載されています。Processingでメタセコイアのモデルを表示させたものと、それをARマーカ上に表示させたものを下に示します。<br />
<a href="files/2016/04/metase.png"><img class="alignnone size-full wp-image-76" src="files/2016/04/metase.png" alt="metase" width="640" height="360" /></a></p>
<p><a href="files/2016/04/ARmetase.png"><img class="alignnone size-full wp-image-73" src="files/2016/04/ARmetase.png" alt="ARmetase" width="640" height="360" srcset="files/2016/04/ARmetase.png 640w, files/2016/04/ARmetase-300x169.png 300w" sizes="(max-width: 640px) 100vw, 640px" /></a><br />
　プログラムソースの解説はされていますが、細かいことが描かれていないことが多いです。「不親切だな」と思うかもしれませんが、あくまでARで活用するためならば光の色・モデルの表示位置などそれらの部分だけおさえておけば大丈夫だと思います。筆者の場合、プログラムのソースを全体的に理解したかったので細かい部分まで書いてほしかったですが&#8230;。</p>
<h2>Chapter 5 CGに対するマウスの当たり判定を行う</h2>
<p>　画面に表示されているCGをクリックしてドラッグさせるためには、そのCGに当たり判定をつける必要があります。このChapterではその方法が記載されています。<br />
　「Picking library」というライブラリを使います。このライブラリは、生成するCGにID番号を付与することができます。ID番号を付与することによってクリックしたときにどのID番号のCGがクリックされたかすぐに判別することができるようになっているので、一からピッキング用のプログラムを書かなくても済むようになります。<br />下に実行結果を載せます。<br />
<a href="files/2016/04/atariCG.png"><img class="alignnone size-full wp-image-75" src="files/2016/04/atariCG.png" alt="atariCG" width="640" height="360" /></a><br />
　しかし、このライブラリで認識できるのはCGやrectなどの図形のみで画像を認識することができません。画像をピッキングしたい場合は、画像の下にrect()関数で画像と同サイズの四角形を書き、四角形の座標と画像の座標を同じ変数にする必要があります。</p>
<h2>Chapter 6 ポップアップメニューを表示する</h2>
<p>　ポップアップメニュとはよく右クリックしたときに出てくるメニューのようなものを指します。このChapterではポップアップメニューを簡単に表示できるライブラリの紹介をしています。下の画像がサンプルプログラムの実行結果です。<br />
<a href="files/2016/04/popup.png"><img class="alignnone size-full wp-image-77" src="files/2016/04/popup.png" alt="popup" width="640" height="360" /></a><br />
　ポップアップメニューには「red・green・blue」とあり、描画されているCGの色を変えることができます。このメニューに表示されている項目はそれぞれ色を変える関数となっています。よって、関数の内容を変えてやれば、跳ね上げたり大きさを変えたりなど他の動作を実行することもできるようになります。</p>
<p>Chapter 7～10はやっていないので割愛します。</p>
<h1>4.レシピ編</h1>
<p>　このPartではPart 3で使ったライブラリを利用しARの作品を作る方法が紹介されています。全部で7つのRecipeに分かれています。筆者はこの中のRecipe 2「ARキャンドル」を実践してみました。以下に「ARキャンドル」でできること・詰まったところを挙げながら解説していきたいと思います。</p>
<h2>(1)ARキャンドルとは？</h2>
<p>　本文から引用すると「ARキャンドルは「現実に右クリック」を体験できる作品」です。これだけではよくわからないと思うので下に実行したときの画像を示してみます。<br />
<a href="files/2016/04/arcandol.png"><img class="alignnone size-full wp-image-82" src="files/2016/04/arcandol.png" alt="arcandol" width="804" height="601" /></a><br />
　このようにカメラで映し出されたLEDを右クリックしてメニューを表示させ、項目を選択することで点灯・消灯を操作できるものとなっています。</p>
<h2>(2)できること</h2>
<p>(1)でいった通り、LEDをARを使って点灯・消灯することができます。基本的にはPart 3のChapter3,5,6を組み合わせればできるようになっています。そのため、新しい知識はいらならいのでわかりやすくてとても良いです。</p>
<h2>(3)詰まるところ</h2>
<p>　個人的に詰まったところはLEDの点灯・消灯をする関数の部分です。この本では「２色LEDカソードコモンOSRB5131A」を使っていますが、手元になかったので青色、赤色の１色LEDを使いました。そのためプログラムの修正に少し時間がかかりました。<br />
　まず、ピンの指定です。２色LEDは足が合計３本ついていますが、１色LEDは２本です。<br />
<a href="files/2016/04/ARCnadolSourcePin.png"><img class="alignnone size-full wp-image-79" src="files/2016/04/ARCnadolSourcePin.png" alt="ARCnadolSourcePin" width="402" height="61" srcset="files/2016/04/ARCnadolSourcePin.png 402w, files/2016/04/ARCnadolSourcePin-300x46.png 300w" sizes="(max-width: 402px) 100vw, 402px" /></a><br />
　サンプルプログラムのpinRed,pinBlueの配列数を２つに変えます。ここで配列を２つにした理由があります。<br />
下のソースをみてください。<br />
<a href="files/2016/04/ARcandolsorce3.png"><img class="alignnone size-full wp-image-83" src="files/2016/04/ARcandolsorce3.png" alt="ARcandolsorce3" width="444" height="482" srcset="files/2016/04/ARcandolsorce3.png 444w, files/2016/04/ARcandolsorce3-276x300.png 276w" sizes="(max-width: 444px) 100vw, 444px" /></a><br />
　ピッキングでやった通り、オブジェクト（LED）にIDを付与します。筆者の環境では赤色が０番、青色が１番で付与されました。selected_idにはマウスのカーソルで合わせたオブジェクトのIDを格納されています。<br />
そして次のソースです<br />
<a href="files/2016/04/ARCandolSourceMethod.png"><img class="alignnone size-full wp-image-78" src="files/2016/04/ARCandolSourceMethod.png" alt="ARCandolSourceMethod" width="377" height="355" srcset="files/2016/04/ARCandolSourceMethod.png 377w, files/2016/04/ARCandolSourceMethod-300x282.png 300w" sizes="(max-width: 377px) 100vw, 377px" /></a><br />
　点灯・消灯の関数ですね。pinRed[selected_id]またはpinBlue[selected_id]のピンを点灯・消灯します。先ほども言った通り、筆者の環境では赤色が０番、青色が１番になっています。（なぜそうなるかはよくわからない）<br />
　赤色LEDはArduinoの6番のポートに、青色は7番のポートにつながっているので、マウスで右クリックされたらそれぞれpin○○○[selected_id]は6か7にななければなりません。赤色はselected_idが0なので6番が指定されますが、青色は1番なのでpinBlueの配列の1番目である7番が指定されなければなりません。そのため、２つの配列を追加しました。つまり、pinRed,pinBlueに含まれる0の要素はただの数合わせになっています。<br />
　また、マウスカーソルをLEDにおいてメニューを表示するとき、LEDを囲む透明な直方体のCGが表示されていないとうまく実行されません。</p>
<h1>最後に</h1>
<p>　この本で学んだことはとてもいい経験になりました。ソースを書いたり、わからないことをネットで調べたり、ソースを書き換えて理解したりなど、試行錯誤することで得られたものは大きかったです。そして、なによりやっていて楽しかったです。この経験を今後の作品作りに活かしていきたいです。</p>
					</div>
		<div class="post-categories"><span>Published in</span><a href="https://blog.shirai.la/kai/category/%e6%9c%aa%e5%88%86%e9%a1%9e/" title="View all posts in 未分類">未分類</a></div>			</article>
		<nav class="further-reading">
	<div class="previous">
		<span>Previous Post</span>
		<a href="index.html@p=54.html" rel="prev">【C++】簡易的なタイピングソフトをつくろう！</a>	</div>
	<div class="next">
		<span>No Newer Posts</span>
		<a href="../kai.1.html">Return to Blog</a>	</div>
</nav>		<section id="comments" class="comments">
		<div class="comments-number">
			<h2>
				Be First to Comment			</h2>
		</div>
		<ol class="comment-list">
					</ol>
					<div id="respond" class="comment-respond">
		<h3 id="reply-title" class="comment-reply-title">コメントを残す <small><a rel="nofollow" id="cancel-comment-reply-link" href="index.html@p=66.html#respond" style="display:none;">コメントをキャンセル</a></small></h3>			<form action="https://blog.shirai.la/kai/wp-comments-post.php" method="post" id="commentform" class="comment-form" novalidate>
				<p class="comment-notes"><span id="email-notes">メールアドレスが公開されることはありません。</span> <span class="required">*</span> が付いている欄は必須項目です</p><p class="comment-form-comment">
	            <label for="comment">Comment</label>
	            <textarea required id="comment" name="comment" cols="45" rows="8" aria-required="true"></textarea>
	        </p><p class="comment-form-author">
	            <label for="author">Name*</label>
	            <input id="author" name="author" type="text" value="" size="30" aria-required='true' />
	        </p>
<p class="comment-form-email">
	            <label for="email">Email*</label>
	            <input id="email" name="email" type="email" value="" size="30" aria-required='true' />
	        </p>
<p class="comment-form-url">
	            <label for="url">Website</label>
	            <input id="url" name="url" type="url" value="" size="30" />
	            </p>


<div class="si_captcha_small"><img id="si_image_com" src="wp-content/plugins/si-captcha-for-wordpress/captcha/securimage_show.php@si_sm_captcha=1&amp;si_form_id=com&amp;prefix=aIGAbEgCJpFAswg4" width="132" height="45" alt="CAPTCHA" title="CAPTCHA" />
    <input id="si_code_com" name="si_code_com" type="hidden"  value="aIGAbEgCJpFAswg4" />
    <div id="si_refresh_com">
<a href="index.html@p=66.html#" rel="nofollow" title="Refresh" onclick="si_captcha_refresh('si_image_com','com','/kai/wp-content/plugins/si-captcha-for-wordpress/captcha','https://blog.shirai.la/kai/wp-content/plugins/si-captcha-for-wordpress/captcha/securimage_show.php?si_sm_captcha=1&amp;si_form_id=com&amp;prefix='); return false;">
      <img class="si_captcha_refresh" src="wp-content/plugins/si-captcha-for-wordpress/captcha/images/refresh.png" width="22" height="20" alt="Refresh" onclick="this.blur();" /></a>
  </div>
  </div>

<p id="si_captcha_code_p">
<label for="si_captcha_code" >キャプチャコード</label><span class="required"> *</span>
<input id="si_captcha_code" name="si_captcha_code" type="text" />
</p>

<p class="form-submit"><input name="submit" type="hidden" id="submit" class="submit" value="コメントは閉じています" /> <input type='hidden' name='comment_post_ID' value='66' id='comment_post_ID' />
<input type='hidden' name='comment_parent' id='comment_parent' value='0' />
</p><p style="display: none;"><input type="hidden" id="ak_js" name="ak_js" value="11"/></p>			</form>
			</div><!-- #respond -->
		</section>
	</div>	</div>
</section><!-- .main -->
<footer class="site-footer" role="contentinfo">
		<div class="design-credit">
        <span>
            <a href="https://www.competethemes.com/author/">Author WordPress Theme</a> by Compete Themes        </span>
	</div>
</footer>
</div><!-- .max-width -->
</div><!-- .overflow-container -->
<script type='text/javascript' src='wp-includes/js/comment-reply.min.js@ver=5.1.6'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var wpcf7 = {"apiSettings":{"root":"http:\/\/blog.shirai.la\/kai\/wp-json\/contact-form-7\/v1","namespace":"contact-form-7\/v1"}};
/* ]]> */
</script>
<script type='text/javascript' src='wp-content/plugins/contact-form-7/includes/js/scripts.js@ver=5.1.9'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var ct_author_objectL10n = {"openPrimaryMenu":"open primary menu","closePrimaryMenu":"close primary menu","openChildMenu":"open child menu","closeChildMenu":"close child menu"};
/* ]]> */
</script>
<script type='text/javascript' src='wp-content/themes/author/js/build/production.min.js@ver=5.1.6'></script>
<!--[if IE 8]>
<script type='text/javascript' src='https://blog.shirai.la/kai/wp-content/themes/author/js/build/respond.min.js?ver=5.1.6'></script>
<![endif]-->
<script type='text/javascript' src='wp-includes/js/wp-embed.min.js@ver=5.1.6'></script>
<script type='text/javascript' src='wp-content/plugins/si-captcha-for-wordpress/captcha/si_captcha.js@ver=1.0'></script>
</body>
</html>