<!DOCTYPE html>
<html lang="ja" class="no-js">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width">
	<link rel="profile" href="http://gmpg.org/xfn/11">
	<link rel="pingback" href="http://blog.shirai.la/sakakibara/xmlrpc.php">
	<!--[if lt IE 9]>
	<script src="http://blog.shirai.la/sakakibara/wp-content/themes/twentyfifteen/js/html5.js"></script>
	<![endif]-->
	<script>(function(html){html.className = html.className.replace(/\bno-js\b/,'js')})(document.documentElement);</script>
<title>1323101 &#8211; R-Diary</title>
<link rel='dns-prefetch' href='//fonts.googleapis.com/' />
<link href='https://fonts.gstatic.com' crossorigin rel='preconnect' />
<link rel="alternate" type="application/rss+xml" title="R-Diary &raquo; フィード" href="../../feed/index.html" />
<link rel="alternate" type="application/rss+xml" title="R-Diary &raquo; コメントフィード" href="../../comments/feed/index.html" />
<link rel="alternate" type="application/rss+xml" title="R-Diary &raquo; 1323101 タグのフィード" href="feed/index.html" />
		<script type="text/javascript">
			window._wpemojiSettings = {"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/11.2.0\/72x72\/","ext":".png","svgUrl":"https:\/\/s.w.org\/images\/core\/emoji\/11.2.0\/svg\/","svgExt":".svg","source":{"concatemoji":"http:\/\/blog.shirai.la\/sakakibara\/wp-includes\/js\/wp-emoji-release.min.js?ver=5.1.6"}};
			!function(a,b,c){function d(a,b){var c=String.fromCharCode;l.clearRect(0,0,k.width,k.height),l.fillText(c.apply(this,a),0,0);var d=k.toDataURL();l.clearRect(0,0,k.width,k.height),l.fillText(c.apply(this,b),0,0);var e=k.toDataURL();return d===e}function e(a){var b;if(!l||!l.fillText)return!1;switch(l.textBaseline="top",l.font="600 32px Arial",a){case"flag":return!(b=d([55356,56826,55356,56819],[55356,56826,8203,55356,56819]))&&(b=d([55356,57332,56128,56423,56128,56418,56128,56421,56128,56430,56128,56423,56128,56447],[55356,57332,8203,56128,56423,8203,56128,56418,8203,56128,56421,8203,56128,56430,8203,56128,56423,8203,56128,56447]),!b);case"emoji":return b=d([55358,56760,9792,65039],[55358,56760,8203,9792,65039]),!b}return!1}function f(a){var c=b.createElement("script");c.src=a,c.defer=c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var g,h,i,j,k=b.createElement("canvas"),l=k.getContext&&k.getContext("2d");for(j=Array("flag","emoji"),c.supports={everything:!0,everythingExceptFlag:!0},i=0;i<j.length;i++)c.supports[j[i]]=e(j[i]),c.supports.everything=c.supports.everything&&c.supports[j[i]],"flag"!==j[i]&&(c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&c.supports[j[i]]);c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&!c.supports.flag,c.DOMReady=!1,c.readyCallback=function(){c.DOMReady=!0},c.supports.everything||(h=function(){c.readyCallback()},b.addEventListener?(b.addEventListener("DOMContentLoaded",h,!1),a.addEventListener("load",h,!1)):(a.attachEvent("onload",h),b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&c.readyCallback()})),g=c.source||{},g.concatemoji?f(g.concatemoji):g.wpemoji&&g.twemoji&&(f(g.twemoji),f(g.wpemoji)))}(window,document,window._wpemojiSettings);
		</script>
		<style type="text/css">
img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 .07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}
</style>
	<link rel='stylesheet' id='jquery.bxslider-css'  href='../../wp-content/plugins/bxslider-integration/assets/css/bxslider-integration.min.css@ver=5.1.6.css' type='text/css' media='all' />
<link rel='stylesheet' id='wp-block-library-css'  href='../../wp-includes/css/dist/block-library/style.min.css@ver=5.1.6.css' type='text/css' media='all' />
<link rel='stylesheet' id='wp-block-library-theme-css'  href='../../wp-includes/css/dist/block-library/theme.min.css@ver=5.1.6.css' type='text/css' media='all' />
<link rel='stylesheet' id='bp-member-block-css'  href='../../wp-content/plugins/buddypress/bp-members/css/blocks/member.min.css@ver=6.0.0.css' type='text/css' media='all' />
<link rel='stylesheet' id='bp-group-block-css'  href='../../wp-content/plugins/buddypress/bp-groups/css/blocks/group.min.css@ver=6.0.0.css' type='text/css' media='all' />
<link rel='stylesheet' id='bp-legacy-css-css'  href='../../wp-content/plugins/buddypress/bp-templates/bp-legacy/css/buddypress.min.css@ver=6.0.0.css' type='text/css' media='screen' />
<link rel='stylesheet' id='bp-twentyfifteen-css'  href='../../wp-content/plugins/buddypress/bp-templates/bp-legacy/css/twentyfifteen.min.css@ver=6.0.0.css' type='text/css' media='screen' />
<link rel='stylesheet' id='contact-form-7-css'  href='../../wp-content/plugins/contact-form-7/includes/css/styles.css@ver=5.1.9.css' type='text/css' media='all' />
<link rel='stylesheet' id='dlm-frontend-css'  href='../../wp-content/plugins/download-monitor/assets/css/frontend.css@ver=5.1.6.css' type='text/css' media='all' />
<link rel='stylesheet' id='twentyfifteen-fonts-css'  href='https://fonts.googleapis.com/css?family=Noto+Sans%3A400italic%2C700italic%2C400%2C700%7CNoto+Serif%3A400italic%2C700italic%2C400%2C700%7CInconsolata%3A400%2C700&#038;subset=latin%2Clatin-ext' type='text/css' media='all' />
<link rel='stylesheet' id='genericons-css'  href='../../wp-content/themes/twentyfifteen/genericons/genericons.css@ver=3.2.css' type='text/css' media='all' />
<link rel='stylesheet' id='twentyfifteen-style-css'  href='../../wp-content/themes/twentyfifteen/style.css@ver=5.1.6.css' type='text/css' media='all' />
<style id='twentyfifteen-style-inline-css' type='text/css'>

		/* Custom Sidebar Text Color */
		.site-title a,
		.site-description,
		.secondary-toggle:before {
			color: #ffffff;
		}

		.site-title a:hover,
		.site-title a:focus {
			color: #ffffff; /* Fallback for IE7 and IE8 */
			color: rgba( 255, 255, 255, 0.7);
		}

		.secondary-toggle {
			border-color: #ffffff; /* Fallback for IE7 and IE8 */
			border-color: rgba( 255, 255, 255, 0.1);
		}

		.secondary-toggle:hover,
		.secondary-toggle:focus {
			border-color: #ffffff; /* Fallback for IE7 and IE8 */
			border-color: rgba( 255, 255, 255, 0.3);
		}

		.site-title a {
			outline-color: #ffffff; /* Fallback for IE7 and IE8 */
			outline-color: rgba( 255, 255, 255, 0.3);
		}

		@media screen and (min-width: 59.6875em) {
			.secondary a,
			.dropdown-toggle:after,
			.widget-title,
			.widget blockquote cite,
			.widget blockquote small {
				color: #ffffff;
			}

			.widget button,
			.widget input[type="button"],
			.widget input[type="reset"],
			.widget input[type="submit"],
			.widget_calendar tbody a {
				background-color: #ffffff;
			}

			.textwidget a {
				border-color: #ffffff;
			}

			.secondary a:hover,
			.secondary a:focus,
			.main-navigation .menu-item-description,
			.widget,
			.widget blockquote,
			.widget .wp-caption-text,
			.widget .gallery-caption {
				color: rgba( 255, 255, 255, 0.7);
			}

			.widget button:hover,
			.widget button:focus,
			.widget input[type="button"]:hover,
			.widget input[type="button"]:focus,
			.widget input[type="reset"]:hover,
			.widget input[type="reset"]:focus,
			.widget input[type="submit"]:hover,
			.widget input[type="submit"]:focus,
			.widget_calendar tbody a:hover,
			.widget_calendar tbody a:focus {
				background-color: rgba( 255, 255, 255, 0.7);
			}

			.widget blockquote {
				border-color: rgba( 255, 255, 255, 0.7);
			}

			.main-navigation ul,
			.main-navigation li,
			.secondary-toggle,
			.widget input,
			.widget textarea,
			.widget table,
			.widget th,
			.widget td,
			.widget pre,
			.widget li,
			.widget_categories .children,
			.widget_nav_menu .sub-menu,
			.widget_pages .children,
			.widget abbr[title] {
				border-color: rgba( 255, 255, 255, 0.1);
			}

			.dropdown-toggle:hover,
			.dropdown-toggle:focus,
			.widget hr {
				background-color: rgba( 255, 255, 255, 0.1);
			}

			.widget input:focus,
			.widget textarea:focus {
				border-color: rgba( 255, 255, 255, 0.3);
			}

			.sidebar a:focus,
			.dropdown-toggle:focus {
				outline-color: rgba( 255, 255, 255, 0.3);
			}
		}
	
</style>
<link rel='stylesheet' id='twentyfifteen-block-style-css'  href='../../wp-content/themes/twentyfifteen/css/blocks.css@ver=20181230.css' type='text/css' media='all' />
<!--[if lt IE 9]>
<link rel='stylesheet' id='twentyfifteen-ie-css'  href='http://blog.shirai.la/sakakibara/wp-content/themes/twentyfifteen/css/ie.css?ver=20141010' type='text/css' media='all' />
<![endif]-->
<!--[if lt IE 8]>
<link rel='stylesheet' id='twentyfifteen-ie7-css'  href='http://blog.shirai.la/sakakibara/wp-content/themes/twentyfifteen/css/ie7.css?ver=20141010' type='text/css' media='all' />
<![endif]-->
<link rel='stylesheet' id='amazonjs-css'  href='../../wp-content/plugins/amazonjs/css/amazonjs.css@ver=0.10.css' type='text/css' media='all' />
<script type='text/javascript' src='../../wp-includes/js/jquery/jquery.js@ver=1.12.4'></script>
<script type='text/javascript' src='../../wp-includes/js/jquery/jquery-migrate.min.js@ver=1.4.1'></script>
<script type='text/javascript' src='../../wp-content/plugins/bxslider-integration/assets/js/bxslider-integration.min.js@ver=5.1.6'></script>
<script type='text/javascript' src='../../wp-content/plugins/buddypress/bp-core/js/confirm.min.js@ver=6.0.0'></script>
<script type='text/javascript' src='../../wp-content/plugins/buddypress/bp-core/js/widget-members.min.js@ver=6.0.0'></script>
<script type='text/javascript' src='../../wp-content/plugins/buddypress/bp-core/js/jquery-query.min.js@ver=6.0.0'></script>
<script type='text/javascript' src='../../wp-content/plugins/buddypress/bp-core/js/vendor/jquery-cookie.min.js@ver=6.0.0'></script>
<script type='text/javascript' src='../../wp-content/plugins/buddypress/bp-core/js/vendor/jquery-scroll-to.min.js@ver=6.0.0'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var BP_DTheme = {"accepted":"\u627f\u8a8d\u6e08","close":"\u9589\u3058\u308b","comments":"\u30b3\u30e1\u30f3\u30c8","leave_group_confirm":"\u672c\u5f53\u306b\u3053\u306e\u30b0\u30eb\u30fc\u30d7\u304b\u3089\u96e2\u8131\u3057\u307e\u3059\u304b ?","mark_as_fav":"\u304a\u6c17\u306b\u5165\u308a","my_favs":"\u308f\u305f\u3057\u306e\u304a\u6c17\u306b\u5165\u308a","rejected":"\u62d2\u5426\u6e08\u307f","remove_fav":"\u304a\u6c17\u306b\u5165\u308a\u304b\u3089\u524a\u9664","show_all":"\u3059\u3079\u3066\u8868\u793a","show_all_comments":"\u3053\u306e\u30b9\u30ec\u30c3\u30c9\u306e\u3059\u3079\u3066\u306e\u30b3\u30e1\u30f3\u30c8\u3092\u898b\u308b","show_x_comments":"\u3059\u3079\u3066\u306e\u30b3\u30e1\u30f3\u30c8\u3092\u8868\u793a  (%d)","unsaved_changes":"\u30d7\u30ed\u30d5\u30a3\u30fc\u30eb\u306b\u4fdd\u5b58\u3055\u308c\u3066\u3044\u306a\u5909\u66f4\u304c\u3042\u308a\u307e\u3059\u3002\u3053\u306e\u30da\u30fc\u30b8\u304b\u3089\u79fb\u52d5\u3059\u308b\u3068\u3001\u5909\u66f4\u304c\u3059\u3079\u3066\u5931\u308f\u308c\u307e\u3059\u3002","view":"\u8868\u793a","store_filter_settings":""};
/* ]]> */
</script>
<script type='text/javascript' src='../../wp-content/plugins/buddypress/bp-templates/bp-legacy/js/buddypress.min.js@ver=6.0.0'></script>
<link rel='https://api.w.org/' href='http://blog.shirai.la/sakakibara/wp-json/' />
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="../../xmlrpc.php@rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="../../wp-includes/wlwmanifest.xml" /> 
<meta name="generator" content="WordPress 5.1.6" />

	<script type="text/javascript">var ajaxurl = 'http://blog.shirai.la/sakakibara/wp-admin/admin-ajax.php';</script>

		<style type="text/css">.recentcomments a{display:inline !important;padding:0 !important;margin:0 !important;}</style>
		<script type="text/javascript" src="../../wp-content/plugins/si-captcha-for-wordpress/captcha/si_captcha.js@ver=1592150413"></script>
<!-- begin SI CAPTCHA Anti-Spam - login/register form style -->
<style type="text/css">
.si_captcha_small { width:175px; height:45px; padding-top:10px; padding-bottom:10px; }
.si_captcha_large { width:250px; height:60px; padding-top:10px; padding-bottom:10px; }
img#si_image_com { border-style:none; margin:0; padding-right:5px; float:left; }
img#si_image_reg { border-style:none; margin:0; padding-right:5px; float:left; }
img#si_image_log { border-style:none; margin:0; padding-right:5px; float:left; }
img#si_image_side_login { border-style:none; margin:0; padding-right:5px; float:left; }
img#si_image_checkout { border-style:none; margin:0; padding-right:5px; float:left; }
img#si_image_jetpack { border-style:none; margin:0; padding-right:5px; float:left; }
img#si_image_bbpress_topic { border-style:none; margin:0; padding-right:5px; float:left; }
.si_captcha_refresh { border-style:none; margin:0; vertical-align:bottom; }
div#si_captcha_input { display:block; padding-top:15px; padding-bottom:5px; }
label#si_captcha_code_label { margin:0; }
input#si_captcha_code_input { width:65px; }
p#si_captcha_code_p { clear: left; padding-top:10px; }
.si-captcha-jetpack-error { color:#DC3232; }
</style>
<!-- end SI CAPTCHA Anti-Spam - login/register form style -->
		<style type="text/css" id="twentyfifteen-header-css">
				.site-header {

			/*
			 * No shorthand so the Customizer can override individual properties.
			 * @see https://core.trac.wordpress.org/ticket/31460
			 */
			background-image: url(../../files/2016/02/LJL_K1a.jpg);
			background-repeat: no-repeat;
			background-position: 50% 50%;
			-webkit-background-size: cover;
			-moz-background-size:    cover;
			-o-background-size:      cover;
			background-size:         cover;
		}

		@media screen and (min-width: 59.6875em) {
			body:before {

				/*
				 * No shorthand so the Customizer can override individual properties.
				 * @see https://core.trac.wordpress.org/ticket/31460
				 */
				background-image: url(../../files/2016/02/LJL_K1a.jpg);
				background-repeat: no-repeat;
				background-position: 100% 50%;
				-webkit-background-size: cover;
				-moz-background-size:    cover;
				-o-background-size:      cover;
				background-size:         cover;
				border-right: 0;
			}

			.site-header {
				background: transparent;
			}
		}
				</style>
		<style type="text/css" id="custom-background-css">
body.custom-background { background-color: #01002d; }
</style>
	</head>

<body class="bp-legacy archive tag tag-4 custom-background wp-embed-responsive no-js">
<div id="page" class="hfeed site">
	<a class="skip-link screen-reader-text" href="index.html#content">コンテンツへスキップ</a>

	<div id="sidebar" class="sidebar">
		<header id="masthead" class="site-header" role="banner">
			<div class="site-branding">
										<p class="site-title"><a href="../../../sakakibara.1.html" rel="home">R-Diary</a></p>
												<p class="site-description">Diary</p>
										<button class="secondary-toggle">﻿メニューとウィジェット</button>
			</div><!-- .site-branding -->
		</header><!-- .site-header -->

			<div id="secondary" class="secondary">

		
		
					<div id="widget-area" class="widget-area" role="complementary">
				<aside id="search-2" class="widget widget_search"><form role="search" method="get" class="search-form" action="../../../sakakibara.1.html">
				<label>
					<span class="screen-reader-text">検索:</span>
					<input type="search" class="search-field" placeholder="検索 &hellip;" value="" name="s" />
				</label>
				<input type="submit" class="search-submit screen-reader-text" value="検索" />
			</form></aside>		<aside id="recent-posts-2" class="widget widget_recent_entries">		<h2 class="widget-title">最近の投稿</h2>		<ul>
											<li>
					<a href="../../index.html@p=55.html">エンタテインメントコンピューティング2016レポート&#8212;口頭・デモ発表および聴講と体験&#8212;</a>
									</li>
											<li>
					<a href="../../index.html@p=37.html">Unity PlayerPrefsとファイルの書き出しと読み込みを使ったプレイログ取得・利用</a>
									</li>
											<li>
					<a href="../../index.html@p=33.html">白井研究室研究成果発表会</a>
									</li>
											<li>
					<a href="../../index.html@p=24.html">保護中: 会社説明会&amp;一次選考に行ってきました!</a>
									</li>
											<li>
					<a href="../../index.html@p=21.html">LJL2016 Report3</a>
									</li>
					</ul>
		</aside><aside id="recent-comments-2" class="widget widget_recent_comments"><h2 class="widget-title">最近のコメント</h2><ul id="recentcomments"></ul></aside><aside id="archives-2" class="widget widget_archive"><h2 class="widget-title">アーカイブ</h2>		<ul>
				<li><a href='../../2016/11/index.html'>2016年11月</a></li>
	<li><a href='../../2016/07/index.html'>2016年7月</a></li>
	<li><a href='../../2016/02/index.html'>2016年2月</a></li>
		</ul>
			</aside><aside id="categories-2" class="widget widget_categories"><h2 class="widget-title">カテゴリー</h2>		<ul>
				<li class="cat-item cat-item-6"><a href="../../category/e-sports/index.html" >e-sports</a>
</li>
	<li class="cat-item cat-item-8"><a href="http://blog.shirai.la/sakakibara/category/%e5%b0%b1%e8%81%b7%e6%b4%bb%e5%8b%95/" >就職活動</a>
</li>
	<li class="cat-item cat-item-10"><a href="http://blog.shirai.la/sakakibara/category/%e7%a0%94%e7%a9%b6%e6%b4%bb%e5%8b%95/" >研究活動</a>
</li>
	<li class="cat-item cat-item-9"><a href="http://blog.shirai.la/sakakibara/category/%e8%87%aa%e5%b7%b1%e7%b4%b9%e4%bb%8b/" >自己紹介</a>
</li>
		</ul>
			</aside><aside id="meta-2" class="widget widget_meta"><h2 class="widget-title">メタ情報</h2>			<ul>
						<li><a href="../../wp-login.php.html">ログイン</a></li>
			<li><a href="../../feed/index.html">投稿の <abbr title="Really Simple Syndication">RSS</abbr></a></li>
			<li><a href="../../comments/feed/index.html">コメントの <abbr title="Really Simple Syndication">RSS</abbr></a></li>
			<li><a href="https://ja.wordpress.org/" title="Powered by WordPress, state-of-the-art semantic personal publishing platform.">WordPress.org</a></li>			</ul>
			</aside>			</div><!-- .widget-area -->
		
	</div><!-- .secondary -->

	</div><!-- .sidebar -->

	<div id="content" class="site-content">

	<section id="primary" class="content-area">
		<main id="main" class="site-main" role="main">

		
			<header class="page-header">
				<h1 class="page-title">タグ: 1323101</h1>			</header><!-- .page-header -->

			
<article id="post-37" class="post-37 post type-post status-publish format-standard has-post-thumbnail hentry category-10 tag-4 tag-c tag-playerprefs tag-unity tag-14">
	
	<a class="post-thumbnail" href="../../index.html@p=37.html" aria-hidden="true">
		<img width="600" height="311" src="../../files/2016/07/powered_by_unity_splash_screen_wallpaper_by_moltenmetalstudios-d7y9gz0.png" class="attachment-post-thumbnail size-post-thumbnail wp-post-image" alt="Unity PlayerPrefsとファイルの書き出しと読み込みを使ったプレイログ取得・利用" srcset="../../files/2016/07/powered_by_unity_splash_screen_wallpaper_by_moltenmetalstudios-d7y9gz0.png 600w, ../../files/2016/07/powered_by_unity_splash_screen_wallpaper_by_moltenmetalstudios-d7y9gz0-300x156.png 300w" sizes="(max-width: 600px) 100vw, 600px" />	</a>

		
	<header class="entry-header">
		<h2 class="entry-title"><a href="../../index.html@p=37.html" rel="bookmark">Unity PlayerPrefsとファイルの書き出しと読み込みを使ったプレイログ取得・利用</a></h2>	</header><!-- .entry-header -->

	<div class="entry-content">
		<p>今回私は</p>
<p>作成したゲーム中でプレイのログをとり、そのログを使ってリプレイ機能を実装するために、ファイルの読み書きとPlayerPrefs機能を利用しました。</p>
<p>まず、参考にしたサイトはこちらです。</p>
<p><a href="http://qiita.com/HisatakaSuzuki/items/a97f4ebdd4b89afe3dc4" target="_blank">UnityでCSVを書き出す</a></p>
<p><a href="http://docs.unity3d.com/ja/current/ScriptReference/PlayerPrefs.html" target="_blank">PlayerPrefsスクリプトリファレンス</a></p>
<p>使用言語C#</p>
<p>まずは、Streamwriterを使ってファイルにログを書き出す部分です。</p>
<p>using System.IO</p>
<p>public class (クラス名) : MonoBehaviour{</p>
<p style="padding-left: 30px">StreamWriter sw;<br />
FileInfo fi;</p>
<p style="padding-left: 30px">public void start(){</p>
<p style="padding-left: 60px">fi = new FileInfo(Application.datapath + &#8220;(ファイル名).txt&#8221;);<br />
sw = fi.AppendText();<br />
sw.WriteLine(&#8220;書き出し&#8221;);<br />
sw.Flush();<br />
sw.Close();</p>
<p style="padding-left: 30px">}</p>
<p>}</p>
<p>Unity C#ではStreamWriterを使用するときはまずFileInfoインスタンスを書き出すファイルのパスを与えて宣言する必要があります。<br />
その際の&#8221;Application.datapath&#8221;はプロジェクトの&#8221;Asset&#8221;フォルダの直下を指しているので、そこに書き出したtxtファイルが保存されることになります。<br />
&#8220;Application.datapath&#8221;を書かずに任意のパスに保存することも可能です。</p>
<p>次にStreamWriterのインスタンスに&#8221;AppendText&#8221;メソッドを適用することでStreamWriterがファイルを書き出す準備ができます。</p>
<p>その後はC#同様&#8221;WriteLine&#8221;メソッドを使って改行ありで書きだしを行っています。<br />
改行なしの書き出しを行いたい場合はこの部分を&#8221;Write&#8221;メソッドに変更します。</p>
<p>最後に大切なのがStreamWriterインスタンスのFlush()とClose()この処理を行うことで、ファイルに書き出しが完了します。</p>
<p>&nbsp;</p>
<hr />
<p>&nbsp;</p>
<p>次に読み込み処理です。</p>
<p>今回はStreamReaderで読み込んでListに保存して利用するようにしました。<br />
また私は文字列でなく数字を扱っていたのでListに保存した読み込んだ文字列をそれぞれの型(int,double)に変換して利用しました。</p>
<p>string line = &#8220;&#8221;;<br />
List&lt;string&gt; List = new List&lt;string&gt; ();</p>
<p style="padding-left: 30px">System.IO.StreamReader tReader = (</p>
<p style="padding-left: 60px">new System.IO.StreamReader (Application.dataPath + &#8220;(ファイル名)&#8221;, System.Text.Encoding.Default)<br />
);</p>
<p style="padding-left: 30px">while ((line = tReader.ReadLine ()) != null) {</p>
<p style="padding-left: 60px">List.Add (line);</p>
<p style="padding-left: 30px">}</p>
<p style="padding-left: 30px">tReader.Close ();</p>
<p>まずグローバルにstring型の変数と空のListを作成します。</p>
<p>次にStreamReaderでファイルを読み込み、while分で一行ずつ読み込んで配列に入れています。</p>
<p>最後にStreamReaderを閉じましょう。</p>
<p>&nbsp;</p>
<p>これでファイルの書き込み、読み込みはできます。しかし、連続プレイのログをとる場合一プレイごとにログにしたいのです。</p>
<p>&nbsp;</p>
<hr />
<p>&nbsp;</p>
<p>そこで私はPlayerPrefs機能を利用しセーブデータを毎回作成し、それをファイル名につけたすことで、一人ひとりのプレイログをとり、さらにリアルタイムにログを利用することができました。</p>
<p>&nbsp;</p>
<p>まずはセーブとロードの関数を作成します。</p>
<p>&nbsp;</p>
<p>const string FileNum = &#8220;filenum&#8221;;</p>
<p>void SaveFile(int file){</p>
<p style="padding-left: 30px">PlayerPrefs.SetInt (FileNum, file);<br />
PlayerPrefs.Save ();</p>
<p>}</p>
<p>int LoadFile(){</p>
<p style="padding-left: 30px">return PlayerPrefs.GetInt (FileNum, -1);</p>
<p>}</p>
<p>これでPlayerPrefsは利用できるので、次にゲームがスタートしたらセーブデータのカウントを増やすように設定しました。</p>
<p>SaveFile(LoadFile()+1);</p>
<p>この処理でセーブファイルの数値が1足されました。</p>
<p>この後にLoadFileを使ったファイル名のログデータを取ることでそのログを利用するように実装しました。</p>
<figure id="attachment_43" aria-describedby="caption-attachment-43" style="width: 300px" class="wp-caption aligncenter"><img class="wp-image-43 size-medium" src="http://blog.shirai.la/sakakibara/files/2016/07/図-300x168.png" alt="図" width="300" height="168" srcset="http://blog.shirai.la/sakakibara/files/2016/07/図-300x168.png 300w, http://blog.shirai.la/sakakibara/files/2016/07/図-768x431.png 768w, http://blog.shirai.la/sakakibara/files/2016/07/図-1024x574.png 1024w, http://blog.shirai.la/sakakibara/files/2016/07/図.png 1238w" sizes="(max-width: 300px) 100vw, 300px" /><figcaption id="caption-attachment-43" class="wp-caption-text">図にするとこんな感じです</figcaption></figure>
<p>&nbsp;</p>
<p>まずファイルの保存名ですが</p>
<p>ファイルの指定の部分を</p>
<p>fi = new FileInfo (Application.dataPath+ &#8220;PlayLog&#8221;+LoadFile()+&#8221;.txt&#8221;);</p>
<p>このように変更します。こうすることで</p>
<p>ファイルがPlayLog1 PlayLog2という風に作成されていきます。</p>
<p>&nbsp;</p>
<p>読み込み側も同様に</p>
<p>System.IO.StreamReader uReader = (</p>
<p style="padding-left: 30px">new System.IO.StreamReader (Application.dataPath + &#8220;PlayLog&#8221; + LoadFile () + &#8220;.txt&#8221;, System.Text.Encoding.Default)</p>
<p>);</p>
<p>while ((line = uReader.ReadLine ()) != null) {</p>
<p style="padding-left: 30px">List.Add (line);<br />
<span style="color: #ff0000">countmax++;</span></p>
<p>}</p>
<p><span style="color: #000000">ここで新たに追加したのがcountmaxという変数です。</span></p>
<p>こちらはListを利用した際にListの最大値を超えて数値を設定したりするとエラーをはいたりしたので,配列がいくつあるのかをカウントする変数として用意しました。</p>
<p>これでプレイごとのログを利用できるようになったので配列を利用することでリプレイ機能を実装できました!</p>
<p>&nbsp;</p>
<hr />
<p>&nbsp;</p>
<p>まぁ、最後にString→int,double型に変換したのでそちらも参考までにのせておきます。</p>
<p>public static int StringToInt(string s){</p>
<p style="padding-left: 30px">return int.Parse (s);</p>
<p>}</p>
<p>public static double StringToDouble(string s){</p>
<p style="padding-left: 30px">return double.Parse (s);</p>
<p>}</p>
<p>List&lt;int&gt; i =List.ConvertAll (new System.Converter&lt;string,int&gt; (StringToInt));<br />
List&lt;double&gt; d =List.ConvertAll (new System.Converter&lt;string,double&gt; (StringToDouble));</p>
<p>今回はConverterを利用しましたが、他にもやり方はいろいろあるようです！<br />
ラムダ式とか&#8230;.数式は難しいです。</p>
<p>&nbsp;</p>
<p>それではよかったらPlayerPrefsを使ってみてください！</p>
<p>サンプル等はGithubで公開するかもしれません!</p>
<p>&nbsp;</p>
	</div><!-- .entry-content -->

	
	<footer class="entry-footer">
		<span class="posted-on"><span class="screen-reader-text">投稿日: </span><a href="../../index.html@p=37.html" rel="bookmark"><time class="entry-date published" datetime="2016-07-07T15:27:51+09:00">2016年7月7日</time><time class="updated" datetime="2016-07-08T13:10:51+09:00">2016年7月8日</time></a></span><span class="cat-links"><span class="screen-reader-text">カテゴリー </span><a href="http://blog.shirai.la/sakakibara/category/%e7%a0%94%e7%a9%b6%e6%b4%bb%e5%8b%95/" rel="category tag">研究活動</a></span><span class="tags-links"><span class="screen-reader-text">タグ </span><a href="index.html" rel="tag">1323101</a>, <a href="../c/index.html" rel="tag">C#</a>, <a href="../playerprefs/index.html" rel="tag">PlayerPrefs</a>, <a href="../unity/index.html" rel="tag">Unity</a>, <a href="http://blog.shirai.la/sakakibara/tag/%e3%83%ad%e3%82%b0/" rel="tag">ログ</a></span><span class="comments-link"><a href="../../index.html@p=37.html#respond"><span class="screen-reader-text">Unity PlayerPrefsとファイルの書き出しと読み込みを使ったプレイログ取得・利用 に</span>コメントを残す</a></span>			</footer><!-- .entry-footer -->

</article><!-- #post-37 -->

<article id="post-24" class="post-24 post type-post status-publish format-standard post-password-required hentry category-8 tag-4 tag-7">
	
	<header class="entry-header">
		<h2 class="entry-title"><a href="../../index.html@p=24.html" rel="bookmark">保護中: 会社説明会&amp;一次選考に行ってきました!</a></h2>	</header><!-- .entry-header -->

	<div class="entry-content">
		<form action="http://blog.shirai.la/sakakibara/wp-login.php?action=postpass" class="post-password-form" method="post">
<p>このコンテンツはパスワードで保護されています。閲覧するには以下にパスワードを入力してください。</p>
<p><label for="pwbox-24">パスワード <input name="post_password" id="pwbox-24" type="password" size="20" /></label> <input type="submit" name="Submit" value="確定" /></p>
</form>
	</div><!-- .entry-content -->

	
	<footer class="entry-footer">
		<span class="posted-on"><span class="screen-reader-text">投稿日: </span><a href="../../index.html@p=24.html" rel="bookmark"><time class="entry-date published" datetime="2016-02-17T15:49:26+09:00">2016年2月17日</time><time class="updated" datetime="2016-07-07T16:01:55+09:00">2016年7月7日</time></a></span><span class="cat-links"><span class="screen-reader-text">カテゴリー </span><a href="http://blog.shirai.la/sakakibara/category/%e5%b0%b1%e8%81%b7%e6%b4%bb%e5%8b%95/" rel="category tag">就職活動</a></span><span class="tags-links"><span class="screen-reader-text">タグ </span><a href="index.html" rel="tag">1323101</a>, <a href="http://blog.shirai.la/sakakibara/tag/%e4%bc%9a%e7%a4%be%e8%aa%ac%e6%98%8e%e4%bc%9a/" rel="tag">会社説明会</a></span>			</footer><!-- .entry-footer -->

</article><!-- #post-24 -->

<article id="post-21" class="post-21 post type-post status-publish format-standard hentry category-e-sports tag-4 tag-e-sports tag-ljl2016">
	
	<header class="entry-header">
		<h2 class="entry-title"><a href="../../index.html@p=21.html" rel="bookmark">LJL2016 Report3</a></h2>	</header><!-- .entry-header -->

	<div class="entry-content">
		<p>現在開催中のLJL2016 公式ページは<a href="http://jp.lolesports.com/"><u><span style="color: #0066cc">こちら</span></u></a></p>
<p>今回は2月3,5,6日に行ったLJL2016の運営の仕事の様子を書きたいと思います。</p>
<p>まず仕事の流れは<br />
①機材準備・動作チェック<br />
②ミーティング<br />
③Twitchの放送を見ながら、集団戦シーンやスーパープレイシーンをTwitter投稿用に録画する。<br />
④試合後、試合のデータFileを公式HPに反映させる。</p>
<p>①,②に関しては、前回と同様なので省略します。</p>
<p>③について、<br />
私たち運営チームは毎回、運営室のスクリーンで実際のゲームの映像を見ています。<br />
※実際の配信ではそこでの映像から5分ディレイを入れてTwitch配信しています。(オンライン上でプレイなので不正防止のため)<br />
私の今回の役割は、運営室のスクリーンを見ながら、スーパープレイシーンが起こった時間を記憶しておき、Twitch配信上でその時間になったら、OBS(Open Broad Caster Software)で録画します。<br />
そこで録画した動画を、Slackを使ってPR(Twitter)担当の方に渡す、というのが今回の役割でした。</p>
<p>④について、<br />
1試合ごとのゲームの記録のデータを公式HPに反映します。<br />
こちらの反映をすることにより、ランキングの変動が起こるので、忘れてはいけない重要な仕事でした。</p>
<p>私が今回携わらせていただける仕事の中でこの動画担当が一番重要だと思いました。<br />
動画を録画する時間も30秒以内に収めなければいけないので(Twitter用なので)集団戦が長引いた場合はタイミングがシビアでした。</p>
<p>毎回、配信についてや、運営についての話をしたりするのは、すごいためになるし面白いです。これからは、もっといろいろなことができるようになりたいです。</p>
<p>以上です!</p>
<p>&nbsp;</p>
	</div><!-- .entry-content -->

	
	<footer class="entry-footer">
		<span class="posted-on"><span class="screen-reader-text">投稿日: </span><a href="../../index.html@p=21.html" rel="bookmark"><time class="entry-date published" datetime="2016-02-17T15:23:36+09:00">2016年2月17日</time><time class="updated" datetime="2016-02-17T17:01:07+09:00">2016年2月17日</time></a></span><span class="cat-links"><span class="screen-reader-text">カテゴリー </span><a href="../../category/e-sports/index.html" rel="category tag">e-sports</a></span><span class="tags-links"><span class="screen-reader-text">タグ </span><a href="index.html" rel="tag">1323101</a>, <a href="../e-sports/index.html" rel="tag">e-sports</a>, <a href="../ljl2016/index.html" rel="tag">LJL2016</a></span><span class="comments-link"><a href="../../index.html@p=21.html#respond"><span class="screen-reader-text">LJL2016 Report3 に</span>コメントを残す</a></span>			</footer><!-- .entry-footer -->

</article><!-- #post-21 -->

<article id="post-14" class="post-14 post type-post status-publish format-standard hentry category-e-sports tag-4 tag-e-sports tag-ljl2016">
	
	<header class="entry-header">
		<h2 class="entry-title"><a href="../../index.html@p=14.html" rel="bookmark">LJL2016 Report 2</a></h2>	</header><!-- .entry-header -->

	<div class="entry-content">
		<p>現在開催中のLJL2016 公式ページは<a href="http://jp.lolesports.com/"><u><span style="color: #0066cc">こちら</span></u></a></p>
<p>1月23,27,29,30日に行ったLJL2016の運営の仕事の様子を書きたいと思います。</p>
<p>まず仕事の流れは<br />
①機材準備・動作チェック<br />
②ミーティング<br />
③TeamSpeak3管理+Twitchコメントチェック</p>
<p>今回は開幕戦同様、TeamSpeak管理の担当だったので以上の流れになります。<br />
次回以降、動画担当や、モデレーター担当になった際には③がそちらになります。</p>
<p>まず、①ですが<br />
オフィスにある機材を運びセッティングし、<br />
動かない機材等があった場合は調達or交換など臨機応変に対応します。</p>
<p>②は映像・放送チーム、実況解説の方を交えた台本の読み合わせをします。<br />
なにか不備や、ここはこうしたほうが等改善点はここで提案します。</p>
<p>③は開幕戦同様TeamSpeak3管理をしつつ、<br />
Twitch放送コメントのチェックをしています。<br />
開幕戦と違う点は、オンラインなので試合前に選手の点呼を行う点です。</p>
<p>現在私は、運営側としてLJLをもっと盛り上げられるようにできないかと考えています。<br />
なぜかというと、映像・配信はそちらのチームがいるからです。<br />
共に作業させていただいている中で、現在開発してると耳にしたのが<br />
ファンサイトの作成とLOLの公式アプリの作成です。<br />
日本鯖がもうすぐくるだろうこの時期の開発はとても良いと感じました。</p>
<p>私もなにか運営側としてのエンタテイメントシステムを考えながら次回からも活動していきたいと思います。</p>
<p>余談ですが、企業の方から<br />
今の日本のe-sports事情と昔のフランスのe-sports事情が似ていると伺ったので、また詳しく調査したいと思います。</p>
<p>今回は、これで以上です!</p>
	</div><!-- .entry-content -->

	
	<footer class="entry-footer">
		<span class="posted-on"><span class="screen-reader-text">投稿日: </span><a href="../../index.html@p=14.html" rel="bookmark"><time class="entry-date published" datetime="2016-02-10T23:16:04+09:00">2016年2月10日</time><time class="updated" datetime="2016-02-10T23:30:37+09:00">2016年2月10日</time></a></span><span class="cat-links"><span class="screen-reader-text">カテゴリー </span><a href="../../category/e-sports/index.html" rel="category tag">e-sports</a></span><span class="tags-links"><span class="screen-reader-text">タグ </span><a href="index.html" rel="tag">1323101</a>, <a href="../e-sports/index.html" rel="tag">e-sports</a>, <a href="../ljl2016/index.html" rel="tag">LJL2016</a></span><span class="comments-link"><a href="../../index.html@p=14.html#respond"><span class="screen-reader-text">LJL2016 Report 2 に</span>コメントを残す</a></span>			</footer><!-- .entry-footer -->

</article><!-- #post-14 -->

<article id="post-12" class="post-12 post type-post status-publish format-standard has-post-thumbnail hentry category-e-sports tag-4 tag-e-sports tag-ljl2016">
	
	<a class="post-thumbnail" href="../../index.html@p=12.html" aria-hidden="true">
		<img width="600" height="397" src="../../files/2016/02/LJL_K1.png" class="attachment-post-thumbnail size-post-thumbnail wp-post-image" alt="LJL2016開幕戦レポート" srcset="../../files/2016/02/LJL_K1.png 600w, ../../files/2016/02/LJL_K1-300x199.png 300w" sizes="(max-width: 600px) 100vw, 600px" />	</a>

		
	<header class="entry-header">
		<h2 class="entry-title"><a href="../../index.html@p=12.html" rel="bookmark">LJL2016開幕戦レポート</a></h2>	</header><!-- .entry-header -->

	<div class="entry-content">
		<p>1323101 榊原諒です。</p>
<p>今回1月17日(日)に開催されたLJL2016開幕戦に、<br />
株式会社SANKO様の技術運営スタッフとして参加させていただきました！<br />
LJLの公式ページは<a href="http://jp.lolesports.com/" target="_blank"><u><span style="color: #0066cc">こちら</span></u></a></p>
<p><a href="../../../seminar/files/2016/01/LJL_K1.png" rel="attachment wp-att-334"><u><span style="color: #0066cc"><img class="size-medium wp-image-334 aligncenter" src="../../../seminar/files/2016/01/LJL_K1-300x199.png" alt="LJL_K1" width="300" height="199" /></span></u></a></p>
<p>まず、率直な感想としては、とてもたのしかったです！<br />
私は、初めてこのような大会を生で見たのですがこんなに盛り上がって、お客様もたくさんくるのかと驚き興奮しました。<br />
<a href="../../../seminar/files/2016/01/LJL_K2.png" rel="attachment wp-att-335"><img class="size-medium wp-image-335 aligncenter" src="../../../seminar/files/2016/01/LJL_K2-300x225.png" alt="LJL_K2" width="300" height="225" /></a>また、選手もインターネットでは知っていたり、知らない選手たち(プロゲーマーの方々)を見れてよかったです！<br />
<a href="../../../seminar/files/2016/01/LJL_K5.png" rel="attachment wp-att-338"><img class="size-medium wp-image-338 aligncenter" src="../../../seminar/files/2016/01/LJL_K5-300x199.png" alt="LJL_K5" width="300" height="199" /></a>コスプレイヤーのパフォーマンス等もありました笑<br />
<a href="../../../seminar/files/2016/01/LJL_K4.png" rel="attachment wp-att-337"><img class="size-medium wp-image-337 aligncenter" src="../../../seminar/files/2016/01/LJL_K4-300x199.png" alt="LJL_K4" width="300" height="199" /></a><br />
ここからは私が実際にやったことを説明します。<br />
①選手PC,デバイスのセッティング<br />
②ゲーム内での試合の進行<br />
③BAN/PICK,試合時のVCの録音<br />
④Twitch放送画面でのコメントのチェック<br />
⑤PC,モニター,デバイスの梱包</p>
<p>このようなオペスペースで仕事をしました。</p>
<p><a href="../../../seminar/files/2016/01/LJL_3.jpg" rel="attachment wp-att-331"><img class="size-medium wp-image-331 aligncenter" src="../../../seminar/files/2016/01/LJL_3-169x300.jpg" alt="LJL_3" width="169" height="300" /></a></p>
<p><a href="../../../seminar/files/2016/01/LJL_1.jpg" rel="attachment wp-att-329"><img class="size-medium wp-image-329 aligncenter" src="../../../seminar/files/2016/01/LJL_1-300x169.jpg" alt="LJL_1" width="300" height="169" /></a></p>
<p>その中でも私たちの作業ブースはこんな感じでした。</p>
<p><a href="../../../seminar/files/2016/01/LJL_2.jpg" rel="attachment wp-att-330"><img class="size-medium wp-image-330 aligncenter" src="../../../seminar/files/2016/01/LJL_2-300x169.jpg" alt="LJL_2" width="300" height="169" /></a></p>
<p>まず①の選手PC,デバイスのセッティングですが、<br />
選手が会場いりする前に,キーボード等を取り外したり、PCをすぐにTS3とLOLを起動できるようにしたり、ヘッドフォンのノイズチェックをしました。<br />
10台分の配線が絡まり合ったり、場所によって調子が悪いものがでたりしたのでなかなか大変でした。<br />
改善点としては、セッティングの際にもっとわかりやすくセッティングしておくべきだというところです。</p>
<p>次に②のゲーム内での試合の進行ですが、<br />
まず選手達を集合させるチャットルームをたてて、ゲームルームを作成し、選手達を集合させて順番並びさせて、準備OKか聞いてゲームスタートという進行をしました。<br />
ここは順調でしたが、選手のデバイストラブルなどにより大会の運営側と連携を密に取ることが大変でした。なぜかというと、MCでつなぐかCMでつなぐか選手インタビューでつなぐか等時間の使い方を考えなければいけないからです。</p>
<p>次に③のBAN/PICK,試合時のVCの録音ですが、<br />
選手達のBAN/PICK,試合時のVCの録音をしました。これは録音だけでなく不正なことを言ってないかというチェックもしています。また、そのチェックで不正があった際に証拠として録音を提出します。<br />
これはさほど大変ではなかったですがBAN/PICKと試合開始の間にコーチが抜けなければいけないところ、機材の都合で一試合目の手際が悪かったところが反省点です。</p>
<p>次に④のTwitch放送画面でのコメントのチェックですが、<br />
こちらは、荒らしコメントのBANではなく、音ずれがあるや画像ずれがある等の放送上のトラブルをコメントで発見したら事実確認をして放送担当の方に修正してもらうという内容でした。<br />
こちらも問題なく行うことができました。</p>
<p>最後に⑤のPC,モニター,デバイスの梱包をしました。<br />
今回PC,モニター50セット-G-tune様　デバイス50セットlogicool様にお借りしていたものを元の箱に戻す作業をしました。<br />
こちらは肉体労働でした笑<br />
機材の扱いは次につながるので重要ですね。</p>
<p>これからの課題としては<br />
Riot様が大会の運営をSANKOに任せていただけるように、<br />
いろいろなことができるようになりたいと思います。</p>
<p>具体的には<br />
①大会配信のスペクト画面のカメラ移動技術<br />
②リプレイをしっかり、上手にやる<br />
(ユーザーのコメントでリプレイ要望が多かったので)<br />
③選手デバイスのセッティングがスムーズに行えるようにする。<br />
(オフラインのみ)<br />
だと感じました。<br />
次は23日(土)にオンライン大会の運営スタッフとして関わってきます。</p>
	</div><!-- .entry-content -->

	
	<footer class="entry-footer">
		<span class="posted-on"><span class="screen-reader-text">投稿日: </span><a href="../../index.html@p=12.html" rel="bookmark"><time class="entry-date published" datetime="2016-02-10T23:14:47+09:00">2016年2月10日</time><time class="updated" datetime="2016-02-17T16:00:06+09:00">2016年2月17日</time></a></span><span class="cat-links"><span class="screen-reader-text">カテゴリー </span><a href="../../category/e-sports/index.html" rel="category tag">e-sports</a></span><span class="tags-links"><span class="screen-reader-text">タグ </span><a href="index.html" rel="tag">1323101</a>, <a href="../e-sports/index.html" rel="tag">e-sports</a>, <a href="../ljl2016/index.html" rel="tag">LJL2016</a></span><span class="comments-link"><a href="../../index.html@p=12.html#respond"><span class="screen-reader-text">LJL2016開幕戦レポート に</span>コメントを残す</a></span>			</footer><!-- .entry-footer -->

</article><!-- #post-12 -->

		</main><!-- .site-main -->
	</section><!-- .content-area -->


	</div><!-- .site-content -->

	<footer id="colophon" class="site-footer" role="contentinfo">
		<div class="site-info">
									<a href="https://ja.wordpress.org/" class="imprint">
				Proudly powered by WordPress			</a>
		</div><!-- .site-info -->
	</footer><!-- .site-footer -->

</div><!-- .site -->

<script type='text/javascript'>
/* <![CDATA[ */
var wpcf7 = {"apiSettings":{"root":"http:\/\/blog.shirai.la\/sakakibara\/wp-json\/contact-form-7\/v1","namespace":"contact-form-7\/v1"}};
/* ]]> */
</script>
<script type='text/javascript' src='../../wp-content/plugins/contact-form-7/includes/js/scripts.js@ver=5.1.9'></script>
<script type='text/javascript' src='../../wp-content/themes/twentyfifteen/js/skip-link-focus-fix.js@ver=20141010'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var screenReaderText = {"expand":"<span class=\"screen-reader-text\">\u30b5\u30d6\u30e1\u30cb\u30e5\u30fc\u3092\u5c55\u958b<\/span>","collapse":"<span class=\"screen-reader-text\">\u30b5\u30d6\u30e1\u30cb\u30e5\u30fc\u3092\u9589\u3058\u308b<\/span>"};
/* ]]> */
</script>
<script type='text/javascript' src='../../wp-content/themes/twentyfifteen/js/functions.js@ver=20150330'></script>
<script type='text/javascript' src='../../wp-includes/js/wp-embed.min.js@ver=5.1.6'></script>

</body>
</html>
